<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2073px" preserveAspectRatio="none" style="width:2037px;height:2073px;background:#FFFFFF;" version="1.1" viewBox="0 0 2037 2073" width="2037px" zoomAndPan="magnify"><title>OAuth2 -happy path -sekvenssi esimerkki-hy&#246;dynt&#228;j&#228;lle</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="442.2715" x="799.0308" y="27.9951">OAuth2 -happy path -sekvenssi esimerkki-hy&#246;dynt&#228;j&#228;lle</text><rect fill="none" height="464.7891" style="stroke:#000000;stroke-width:1.5;" width="969.9351" x="20" y="135.5938"/><rect fill="none" height="707.1172" style="stroke:#000000;stroke-width:1.5;" width="2011.333" x="20" y="614.3828"/><rect fill="none" height="208.4609" style="stroke:#000000;stroke-width:1.5;" width="1582.9531" x="160" y="1335.5"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="1480.582" x="262.3711" y="1557.9609"/><rect fill="none" height="313.4609" style="stroke:#000000;stroke-width:1.5;" width="989.9351" x="10" y="1662.4922"/><rect fill="none" height="108.5313" style="stroke:#000000;stroke-width:1.5;" width="969.9351" x="20" y="1860.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="62" x2="62" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="183.0713" x2="183.0713" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="401.3711" x2="401.3711" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="904.9438" x2="904.9438" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1560.4746" x2="1560.4746" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1881.9531" x2="1881.9531" y1="118.5938" y2="1992.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.0713" x="30" y="115.292">K&#228;ytt&#228;j&#228;</text><ellipse cx="62.0356" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M62.0356,58.7969 L62.0356,85.7969 M49.0356,66.7969 L75.0356,66.7969 M62.0356,85.7969 L49.0356,100.7969 M62.0356,85.7969 L75.0356,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.0713" x="30" y="2004.9482">K&#228;ytt&#228;j&#228;</text><ellipse cx="62.0356" cy="2016.75" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M62.0356,2024.75 L62.0356,2051.75 M49.0356,2032.75 L75.0356,2032.75 M62.0356,2051.75 L49.0356,2066.75 M62.0356,2051.75 L75.0356,2066.75 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.2998" x="104.0713" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.2998" x="111.0713" y="107.292">Hy&#246;dynt&#228;j&#228;n palvelu</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.2998" x="104.0713" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.2998" x="111.0713" y="2011.9482">Hy&#246;dynt&#228;j&#228;n palvelu</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="259.6631" x="272.3711" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.6631" x="279.3711" y="90.9951">Hy&#246;dynt&#228;j&#228;n OAuth2-alij&#228;rjestelm&#228;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.7197" x="353.3428" y="107.292">OAuth2 Client</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="259.6631" x="272.3711" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.6631" x="279.3711" y="2011.9482">Hy&#246;dynt&#228;j&#228;n OAuth2-alij&#228;rjestelm&#228;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.7197" x="353.3428" y="2028.2451">OAuth2 Client</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.9912" x="831.9438" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="867.1729" y="90.9951">Web-selain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.9912" x="838.9438" y="107.292">OAuth2 User agent</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.9912" x="831.9438" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="867.1729" y="2011.9482">Web-selain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.9912" x="838.9438" y="2028.2451">OAuth2 User agent</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343.4785" x="1389.4746" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1540.0156" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="329.4785" x="1396.4746" y="107.292">OAuth2 Authorization server &amp; resource server</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343.4785" x="1389.4746" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1540.0156" y="2011.9482">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="329.4785" x="1396.4746" y="2028.2451">OAuth2 Authorization server &amp; resource server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278.3799" x="1742.9531" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264.3799" x="1749.9531" y="107.292">Opintopolku &amp; Suomi.fi-kirjautuminen</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278.3799" x="1742.9531" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264.3799" x="1749.9531" y="2011.9482">Opintopolku &amp; Suomi.fi-kirjautuminen</text><path d="M20,135.5938 L466.9717,135.5938 L466.9717,188.125 L456.9717,198.125 L20,198.125 L20,135.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="464.7891" style="stroke:#000000;stroke-width:1.5;" width="969.9351" x="20" y="135.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="360.0771" x="35" y="148.6606">Esimerkki hy&#246;dynt&#228;j&#228;n palvelusta, jossa erillinen</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="228.0332" x="39.5259" y="163.7935">alij&#228;rjestelm&#228; OAuth2-clientille</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="397.4458" x="39.5259" y="178.9263">HUOM: Hy&#246;dynt&#228;j&#228;n palveluiden sis&#228;isi&#228; kirjautumisia</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="326.7012" x="44.0518" y="194.0591">ja muita autentikointeja ei ole t&#228;ss&#228; kuvattu</text><polygon fill="#181818" points="893.9395,215.2578,903.9395,219.2578,893.9395,223.2578,897.9395,219.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.0356" x2="899.9395" y1="219.2578" y2="219.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8262" x="69.0356" y="214.1919">OPEN https://client/</text><polygon fill="#181818" points="194.2212,244.3906,184.2212,248.3906,194.2212,252.3906,190.2212,248.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.2212" x2="904.9395" y1="248.3906" y2="248.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.7407" x="200.2212" y="243.3247">GET /</text><polygon fill="#181818" points="893.9395,273.5234,903.9395,277.5234,893.9395,281.5234,897.9395,277.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="183.2212" x2="899.9395" y1="277.5234" y2="277.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.1836" x="190.2212" y="272.4575">HTML-sivu</text><polygon fill="#181818" points="893.9395,302.6563,903.9395,306.6563,893.9395,310.6563,897.9395,306.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.0356" x2="899.9395" y1="306.6563" y2="306.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331.9507" x="69.0356" y="301.5903">OPEN "Lis&#228;&#228;/k&#228;sittele KOSKI-opintotiedot"-toiminto</text><polygon fill="#181818" points="194.2212,331.7891,184.2212,335.7891,194.2212,339.7891,190.2212,335.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.2212" x2="904.9395" y1="335.7891" y2="335.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9438" x="200.2212" y="330.7231">GET /koski-opintotiedot</text><polygon fill="#181818" points="893.9395,360.9219,903.9395,364.9219,893.9395,368.9219,897.9395,364.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="183.2212" x2="899.9395" y1="364.9219" y2="364.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323.832" x="190.2212" y="359.856">REDIRECT https://oauth2-client/koski-opintotiedot</text><polygon fill="#181818" points="413.2026,390.0547,403.2026,394.0547,413.2026,398.0547,409.2026,394.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.2026" x2="904.9395" y1="394.0547" y2="394.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9438" x="419.2026" y="388.9888">GET /koski-opintotiedot</text><line style="stroke:#181818;stroke-width:1.0;" x1="402.2026" x2="444.2026" y1="423.1875" y2="423.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="444.2026" x2="444.2026" y1="423.1875" y2="436.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="403.2026" x2="444.2026" y1="436.1875" y2="436.1875"/><polygon fill="#181818" points="413.2026,432.1875,403.2026,436.1875,413.2026,440.1875,409.2026,436.1875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440.1592" x="409.2026" y="418.1216">Luo CODE_VERIFIER ja CODE_CHALLENGE, tallenna CODE_VERIFIER</text><polygon fill="#181818" points="893.9395,524.8516,903.9395,528.8516,893.9395,532.8516,897.9395,528.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="402.2026" x2="899.9395" y1="528.8516" y2="528.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="479.7368" x="409.2026" y="523.7856">REDIRECT https://opintopolku.fi/koski/omadata-oauth2/authorize/PARAMS</text><path d="M174,449.1875 L174,595.1875 L396,595.1875 L396,459.1875 L386,449.1875 L174,449.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M386,449.1875 L386,459.1875 L396,459.1875 L386,449.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5063" x="180" y="466.2544">PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="180" y="481.3872">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="180" y="496.52">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="180" y="511.6528">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.124" x="180" y="526.7856">scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1157" x="180" y="541.9185">response_type=code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.7056" x="180" y="557.0513">response_mode=form_post</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.5762" x="180" y="572.1841">code_challenge_method=S256</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.915" x="180" y="587.3169">code_challenge</text><path d="M20,614.3828 L363.8477,614.3828 L363.8477,621.5156 L353.8477,631.5156 L20,631.5156 L20,614.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="707.1172" style="stroke:#000000;stroke-width:1.5;" width="2011.333" x="20" y="614.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="298.8477" x="35" y="627.4497">OAuth2 authorization end-pointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1549.2139,648.6484,1559.2139,652.6484,1549.2139,656.6484,1553.2139,652.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="905.9395" x2="1555.2139" y1="652.6484" y2="652.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9985" x="912.9395" y="647.5825">GET /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="916.9395,677.7813,906.9395,681.7813,916.9395,685.7813,912.9395,681.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="910.9395" x2="1560.2139" y1="681.7813" y2="681.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="631.2744" x="922.9395" y="676.7153">REDIRECT https://opintopolku.fi/.../login?...onSuccess=/koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="1870.1431,706.9141,1880.1431,710.9141,1870.1431,714.9141,1874.1431,710.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="905.9395" x2="1876.1431" y1="710.9141" y2="710.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="592.1475" x="912.9395" y="705.8481">GET https://opintopolku.fi/.../login?...onSuccess=/koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="916.9395,736.0469,906.9395,740.0469,916.9395,744.0469,912.9395,740.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="910.9395" x2="1881.1431" y1="740.0469" y2="740.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.8628" x="922.9395" y="734.981">HTML:Login-sivu</text><polygon fill="#181818" points="893.9395,765.1797,903.9395,769.1797,893.9395,773.1797,897.9395,769.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.0356" x2="899.9395" y1="769.1797" y2="769.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.9478" x="69.0356" y="764.1138">Suomi.fi &amp; opintopolku.fi -login</text><polygon fill="#181818" points="1870.1431,794.3125,1880.1431,798.3125,1870.1431,802.3125,1874.1431,798.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="905.9395" x2="1876.1431" y1="798.3125" y2="798.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.9478" x="912.9395" y="793.2466">Suomi.fi &amp; opintopolku.fi -login</text><polygon fill="#181818" points="916.9395,823.4453,906.9395,827.4453,916.9395,831.4453,912.9395,827.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="910.9395" x2="1881.1431" y1="827.4453" y2="827.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344.1255" x="922.9395" y="822.3794">REDIRECT /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="1549.2139,852.5781,1559.2139,856.5781,1549.2139,860.5781,1553.2139,856.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="905.9395" x2="1555.2139" y1="856.5781" y2="856.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9985" x="912.9395" y="851.5122">GET /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="916.9395,881.7109,906.9395,885.7109,916.9395,889.7109,912.9395,885.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="910.9395" x2="1560.2139" y1="885.7109" y2="885.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.9893" x="922.9395" y="880.645">HTML:Hyv&#228;ksynt&#228;-sivu</text><polygon fill="#181818" points="893.9395,910.8438,903.9395,914.8438,893.9395,918.8438,897.9395,914.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.0356" x2="899.9395" y1="914.8438" y2="914.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.2119" x="69.0356" y="909.7778">Hyv&#228;ksy valtuutus</text><polygon fill="#181818" points="1549.2139,939.9766,1559.2139,943.9766,1549.2139,947.9766,1553.2139,943.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="905.9395" x2="1555.2139" y1="943.9766" y2="943.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.1084" x="912.9395" y="938.9106">GET /koski/api/omadata-oauth2/authorize/?PARAMS</text><polygon fill="#181818" points="1870.1431,969.1094,1880.1431,973.1094,1870.1431,977.1094,1874.1431,973.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1561.2139" x2="1876.1431" y1="973.1094" y2="973.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.1074" x="1568.2139" y="968.0435">logout</text><polygon fill="#181818" points="916.9395,1061.7734,906.9395,1065.7734,916.9395,1069.7734,912.9395,1065.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="910.9395" x2="1560.2139" y1="1065.7734" y2="1065.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.7329" x="922.9395" y="1060.7075">REDIRECT /post-response/RESPONSE_PARAMS</text><path d="M595,986.1094 L595,1132.1094 L900,1132.1094 L900,996.1094 L890,986.1094 L595,986.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M890,986.1094 L890,996.1094 L900,996.1094 L890,986.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.7671" x="601" y="1003.1763">RESPONSE_PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="601" y="1018.3091">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="601" y="1033.4419">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="601" y="1048.5747">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="601" y="1063.7075">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.5356" x="609.2646" y="1078.8403">Virhetilanteissa code:n sijasta voi sis&#228;lt&#228;&#228;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.9858" x="601" y="1093.9731">error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.7666" x="601" y="1109.106">error_description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6816" x="601" y="1124.2388">error_uri</text><polygon fill="#181818" points="1549.2139,1154.4375,1559.2139,1158.4375,1549.2139,1162.4375,1553.2139,1158.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="905.9395" x2="1555.2139" y1="1158.4375" y2="1158.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.606" x="912.9395" y="1153.3716">GET /post-response/RESPONSE_PARAMS</text><polygon fill="#181818" points="916.9395,1183.5703,906.9395,1187.5703,916.9395,1191.5703,912.9395,1187.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="910.9395" x2="1560.2139" y1="1187.5703" y2="1187.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371.4712" x="922.9395" y="1182.5044">HTML:Auto-submit web form, jossa RESPONSE inputteina</text><polygon fill="#181818" points="413.2026,1268.668,403.2026,1272.668,413.2026,1276.668,409.2026,1272.668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.2026" x2="904.9395" y1="1272.668" y2="1272.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.8867" x="419.2026" y="1252.4692">POST redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8379" x="419.2026" y="1267.6021">body=CODE_RESPONSE</text><path d="M91,1200.5703 L91,1315.5703 L396,1315.5703 L396,1210.5703 L386,1200.5703 L91,1200.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M386,1200.5703 L386,1210.5703 L396,1210.5703 L386,1200.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.1743" x="97" y="1217.6372">CODE_RESPONSE:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="97" y="1232.77">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="97" y="1247.9028">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.5356" x="105.2646" y="1263.0356">Virhetilanteissa code:n sijasta voi sis&#228;lt&#228;&#228;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.9858" x="97" y="1278.1685">error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.7666" x="97" y="1293.3013">error_description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6816" x="97" y="1308.4341">error_uri</text><path d="M160,1335.5 L442.6943,1335.5 L442.6943,1342.6328 L432.6943,1352.6328 L160,1352.6328 L160,1335.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="208.4609" style="stroke:#000000;stroke-width:1.5;" width="1582.9531" x="160" y="1335.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="237.6943" x="175" y="1348.5669">OAuth2 token-endpointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1549.2139,1418.1641,1559.2139,1422.1641,1549.2139,1426.1641,1553.2139,1422.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="402.2026" x2="1555.2139" y1="1422.1641" y2="1422.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="742.0918" x="409.2026" y="1401.9653">mutual-TLS POST https://oph-koski-luovutuspalvelu.opintopolku.fi/koski/api/omadata-oauth2/authorization-server/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.2036" x="417.4673" y="1417.0981">body=CODE_PARAMS</text><path d="M170,1357.6328 L170,1457.6328 L396,1457.6328 L396,1367.6328 L386,1357.6328 L170,1357.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M386,1357.6328 L386,1367.6328 L396,1367.6328 L386,1357.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.54" x="176" y="1374.6997">CODE_PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.3276" x="176" y="1389.8325">grant_type=authorization_code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="176" y="1404.9653">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.0303" x="176" y="1420.0981">code_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="176" y="1435.231">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="176" y="1450.3638">client_id</text><polygon fill="#181818" points="413.2026,1506.2617,403.2026,1510.2617,413.2026,1514.2617,409.2026,1510.2617" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.2026" x2="1560.2139" y1="1510.2617" y2="1510.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8975" x="419.2026" y="1505.1958">TOKEN_RESPONSE</text><path d="M249,1468.4297 L249,1538.4297 L396,1538.4297 L396,1478.4297 L386,1468.4297 L249,1468.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M386,1468.4297 L386,1478.4297 L396,1478.4297 L386,1468.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.2773" x="255" y="1485.4966">TOKEN_RESPONSE:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.1216" x="255" y="1500.6294">access_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8198" x="255" y="1515.7622">token_type=Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.022" x="255" y="1530.895">expires_in</text><path d="M262.3711,1557.9609 L567.2886,1557.9609 L567.2886,1565.0938 L557.2886,1575.0938 L262.3711,1575.0938 L262.3711,1557.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="1480.582" x="262.3711" y="1557.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="259.9175" x="277.3711" y="1571.0278">OAuth2 resource-endpointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1549.2139,1607.3594,1559.2139,1611.3594,1549.2139,1615.3594,1553.2139,1611.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="402.2026" x2="1555.2139" y1="1611.3594" y2="1611.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="708.3667" x="409.2026" y="1591.1606">mutual-TLS POST https://oph-koski-luovutuspalvelu.opintopolku.fi/koski/api/omadata-oauth2/resource-server</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.3027" x="417.4673" y="1606.2935">Authorization=Bearer TOKEN</text><polygon fill="#181818" points="413.2026,1636.4922,403.2026,1640.4922,413.2026,1644.4922,409.2026,1640.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.2026" x2="1560.2139" y1="1640.4922" y2="1640.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.7373" x="419.2026" y="1635.4263">DATA</text><path d="M10,1662.4922 L415.0771,1662.4922 L415.0771,1684.7578 L405.0771,1694.7578 L10,1694.7578 L10,1662.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="313.4609" style="stroke:#000000;stroke-width:1.5;" width="989.9351" x="10" y="1662.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="360.0771" x="25" y="1675.5591">Esimerkki hy&#246;dynt&#228;j&#228;n palvelusta, jossa erillinen</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="228.0332" x="29.5259" y="1690.6919">alij&#228;rjestelm&#228; OAuth2-clientille</text><line style="stroke:#181818;stroke-width:1.0;" x1="402.2026" x2="444.2026" y1="1715.8906" y2="1715.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="444.2026" x2="444.2026" y1="1715.8906" y2="1728.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="403.2026" x2="444.2026" y1="1728.8906" y2="1728.8906"/><polygon fill="#181818" points="413.2026,1724.8906,403.2026,1728.8906,413.2026,1732.8906,409.2026,1728.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.3237" x="409.2026" y="1710.8247">Analysoi/muunna DATA hy&#246;dynt&#228;j&#228;n k&#228;ytt&#246;&#246;n</text><polygon fill="#181818" points="194.2212,1754.0234,184.2212,1758.0234,194.2212,1762.0234,190.2212,1758.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.2212" x2="401.2026" y1="1758.0234" y2="1758.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.8232" x="200.2212" y="1752.9575">Tallenna opintotiedot</text><polygon fill="#181818" points="893.9395,1783.1563,903.9395,1787.1563,893.9395,1791.1563,897.9395,1787.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="402.2026" x2="899.9395" y1="1787.1563" y2="1787.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.1714" x="409.2026" y="1782.0903">REDIRECT https://client/</text><polygon fill="#181818" points="194.2212,1812.2891,184.2212,1816.2891,194.2212,1820.2891,190.2212,1816.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="188.2212" x2="904.9395" y1="1816.2891" y2="1816.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.7407" x="200.2212" y="1811.2231">GET /</text><polygon fill="#181818" points="893.9395,1841.4219,903.9395,1845.4219,893.9395,1849.4219,897.9395,1845.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="183.2212" x2="899.9395" y1="1845.4219" y2="1845.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.5107" x="190.2212" y="1840.356">HTML-sivu, jossa opintotiedot mukana</text><path d="M20,1860.4219 L84.4429,1860.4219 L84.4429,1867.5547 L74.4429,1877.5547 L20,1877.5547 L20,1860.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="108.5313" style="stroke:#000000;stroke-width:1.5;" width="969.9351" x="20" y="1860.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="1873.4888">alt</text><polygon fill="#181818" points="893.9395,1894.6875,903.9395,1898.6875,893.9395,1902.6875,897.9395,1898.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.0356" x2="899.9395" y1="1898.6875" y2="1898.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308.5596" x="69.0356" y="1893.6216">Hyv&#228;ksy/katsele/filtter&#246;i/muokkaa opintotietoja</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="989.9351" y1="1907.6875" y2="1907.6875"/><polygon fill="#181818" points="893.9395,1925.8203,903.9395,1929.8203,893.9395,1933.8203,897.9395,1929.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.0356" x2="899.9395" y1="1929.8203" y2="1929.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233.251" x="69.0356" y="1924.7544">Tee ostoksia opiskelija-alennuksella</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="989.9351" y1="1938.8203" y2="1938.8203"/><polygon fill="#181818" points="893.9395,1956.9531,903.9395,1960.9531,893.9395,1964.9531,897.9395,1960.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.0356" x2="899.9395" y1="1960.9531" y2="1960.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.397" x="69.0356" y="1955.8872">...</text><!--SRC=[nLV1RkCs4BthAuWzj9TL12pG7WIuWPkeco1E7DZUxQ5R28myYSUII44atNM_nz-G7_2FTIXQjcGhjbjqsuiWZOOpmpV3DqEDEWCsx1iz-y3y6I-A9IkudZ5VGRe0eHGoK9X3cQRepvRhr-bIwFLglbvb6NWUJxGisTrwjTHEohXYHa7fUGKlDIPOSA5PaY487PDyWGcmtpp6Rfgs13dD5f0Px_UkXLqBNCm-pv0-opae3Lc-Nf7YPZTNrT9zWpQscB_KHd-59zffnb7i5duY5LQfsCNVio2LAiL0vdpADVSbjrg1VSeI_uImPV_EwbQcxuRZkzkTrVv6dskKWbaaoCjth0GbJKcOE8dpEDEwK64G6A7DWii2XPQ5p59pyOn1mfKlYmBdFCZa2ug0P9SRP7iN5nUjSAxwuogOuSu6EHqRcIFPybCivxGHawC0ONs_bD8KBAeppcQTMLAQlsTpgHHdK6AMsTLV1DlFHPqZbqJI0rAw-JIy3z_8Faw1e46rNg52MhyBJo6djMpEMMvGSqPIQpALj2qWAI2JLCXaJocxa63JsdYUJJVpVsgcFMJ3n-XXYx4BBl0Q6gI_Lx0X-nXDME3jYVSDtqpk1xx2XJdYzzt0xc-z2bAA5JKX1QvKV9TdZJ2L-fsl9URs-wp0gWfj6JWLwYYwlXr5LvCj3gwiDxdgCjWLnqd_BTM1aUngU1t5dwFHxI-tqSZcin9StVG7W-ZXO_IUQKvr8WHlQpRCdTX6-x0SFxh1Ot_KlnzxGcfW6Jnhpmd26ZsSUYLCiOH4nwP4ZmfVWwSIMG3zK8KK2cAzBA2No6b3bDDNxrcMULn8HLZGPvpCgfszq5yW_zFU-CCFF-xzya1CcOt6ljIdSKCWl4KWzDylRFMZOAcZtrTlBqUEYvefEec4vzRyNPY9TXmPNTAR56EJ9A1KxrodxR0jPxcWluqtQx_hv8O3QzETt-u3NFCcKMWx9EPNyNJlvFIgheYsaFyp4F-zt5VGt2mNwrMgAiO-Xb2jnnOyquQeMvqH62-E17Tv49r3bQ2JHfyisC0UGBy-cC4e6ZyE7yPHV73oz_wSe83gk3Fs6SiPK6UZLWjesw6LXxQ7pJafieL4ryyoRJa_zA0iPUcUyHHKKc9XZ_D6Okrl6U0ORiStTIoHn2NIL-OfHyt-W2TcIQhkvRKTXg8mr9bGSEyjsdySZYUi2SmNyIIdorx5shMX1hmjUVWVedX8f5gc87oI7_BdhilKSETKmppp9uEns_AEacQ-wtgPaGjRw9iPvgAp0nqfyOhFVJV-1NR8sU5uKAGDQKYR8i1SzsdPYYjOju-OxE8pqcpPgkDTUU-msjRDDisJuLtqq9NFze-GBWAMW-CAMwzwkiX-1bwIQ_XQa6iL4ziTQN7rCFp_9sSRYSkBJKjhWD_io-7J1TnrVz9l5Tytcwczhb6hBtYsL1A3t1WxJDbmzXtNoAvVnQ6DneGvgIUordntzaHM3zZdJTXdZzWrMCsWg21IRacBci-91XMaNDF53-Zsb17LbUjNYvLCKzumgUMSZ46cu0rh4m16L2nJkf_OPIe5oXUdMoa1Pb9oa1qtOEzhhahiuoy0]--></g></svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2028px" preserveAspectRatio="none" style="width:1755px;height:2028px;background:#FFFFFF;" version="1.1" viewBox="0 0 1755 2028" width="1755px" zoomAndPan="magnify"><title>OAuth2 -happy path -sekvenssi esimerkki-hy&#246;dynt&#228;j&#228;lle</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="442.2715" x="657.937" y="27.9951">OAuth2 -happy path -sekvenssi esimerkki-hy&#246;dynt&#228;j&#228;lle</text><rect fill="none" height="434.5234" style="stroke:#000000;stroke-width:1.5;" width="883.6895" x="20" y="135.5938"/><rect fill="none" height="707.1172" style="stroke:#000000;stroke-width:1.5;" width="1729.1455" x="20" y="584.1172"/><rect fill="none" height="208.4609" style="stroke:#000000;stroke-width:1.5;" width="1439.3955" x="102" y="1305.2344"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="1315.4326" x="225.9629" y="1527.6953"/><rect fill="none" height="298.3281" style="stroke:#000000;stroke-width:1.5;" width="903.6895" x="10" y="1632.2266"/><rect fill="none" height="108.5313" style="stroke:#000000;stroke-width:1.5;" width="883.6895" x="20" y="1815.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="118.5938" y2="1947.5547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="150.5361" x2="150.5361" y1="118.5938" y2="1947.5547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="343.9629" x2="343.9629" y1="118.5938" y2="1947.5547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="847.1563" x2="847.1563" y1="118.5938" y2="1947.5547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1502.999" x2="1502.999" y1="118.5938" y2="1947.5547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1639.3955" x2="1639.3955" y1="118.5938" y2="1947.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.5361" x="30" y="115.292">user</text><ellipse cx="48.2681" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.2681,58.7969 L48.2681,85.7969 M35.2681,66.7969 L61.2681,66.7969 M48.2681,85.7969 L35.2681,100.7969 M48.2681,85.7969 L61.2681,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.5361" x="30" y="1959.5498">user</text><ellipse cx="48.2681" cy="1971.3516" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.2681,1979.3516 L48.2681,2006.3516 M35.2681,1987.3516 L61.2681,1987.3516 M48.2681,2006.3516 L35.2681,2021.3516 M48.2681,2006.3516 L61.2681,2021.3516 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149.4268" x="76.5361" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.4268" x="83.5361" y="107.292">Hy&#246;dynt&#228;j&#228; palvelu</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149.4268" x="76.5361" y="1946.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.4268" x="83.5361" y="1966.5498">Hy&#246;dynt&#228;j&#228; palvelu</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216.4463" x="235.9629" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.4463" x="242.9629" y="90.9951">Hy&#246;dynt&#228;j&#228;-OAuth2-backend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="323.9209" y="107.292">Client</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216.4463" x="235.9629" y="1946.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202.4463" x="242.9629" y="1966.5498">Hy&#246;dynt&#228;j&#228;-OAuth2-backend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="323.9209" y="1982.8467">Client</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.5332" x="802.1563" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="809.1563" y="90.9951">Web-selain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8018" x="809.522" y="107.292">User agent</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.5332" x="802.1563" y="1946.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="809.1563" y="1966.5498">Web-selain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8018" x="809.522" y="1982.8467">User agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56.3965" x="1474.999" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1481.999" y="107.292">KOSKI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="56.3965" x="1474.999" y="1946.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1481.999" y="1966.5498">KOSKI</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197.75" x="1541.3955" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.75" x="1548.3955" y="107.292">Opintopolku/Suomi.fi-auth</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="197.75" x="1541.3955" y="1946.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.75" x="1548.3955" y="1966.5498">Opintopolku/Suomi.fi-auth</text><path d="M20,135.5938 L798.8652,135.5938 L798.8652,157.8594 L788.8652,167.8594 L20,167.8594 L20,135.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="434.5234" style="stroke:#000000;stroke-width:1.5;" width="883.6895" x="20" y="135.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="578.8555" x="35" y="148.6606">Esimerkki hy&#246;dynt&#228;j&#228;palvelusta, jossa erillinen alij&#228;rjestelm&#228; OAuth2-clientille</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="720.2876" x="48.5776" y="163.7935">HUOM: Hy&#246;dynt&#228;j&#228;-palveluiden sis&#228;isi&#228; kirjautumisia ja muita autentikointeja ei ole t&#228;ss&#228; kuvattu</text><polygon fill="#181818" points="835.9229,184.9922,845.9229,188.9922,835.9229,192.9922,839.9229,188.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="841.9229" y1="188.9922" y2="188.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8262" x="55.2681" y="183.9263">OPEN https://client/</text><polygon fill="#181818" points="162.2495,214.125,152.2495,218.125,162.2495,222.125,158.2495,218.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="156.2495" x2="846.9229" y1="218.125" y2="218.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.7407" x="168.2495" y="213.0591">GET /</text><polygon fill="#181818" points="835.9229,243.2578,845.9229,247.2578,835.9229,251.2578,839.9229,247.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="151.2495" x2="841.9229" y1="247.2578" y2="247.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.1836" x="158.2495" y="242.1919">HTML-sivu</text><polygon fill="#181818" points="835.9229,272.3906,845.9229,276.3906,835.9229,280.3906,839.9229,276.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="841.9229" y1="276.3906" y2="276.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331.9507" x="55.2681" y="271.3247">OPEN "Lis&#228;&#228;/k&#228;sittele KOSKI-opintotiedot"-toiminto</text><polygon fill="#181818" points="162.2495,301.5234,152.2495,305.5234,162.2495,309.5234,158.2495,305.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="156.2495" x2="846.9229" y1="305.5234" y2="305.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9438" x="168.2495" y="300.4575">GET /koski-opintotiedot</text><polygon fill="#181818" points="835.9229,330.6563,845.9229,334.6563,835.9229,338.6563,839.9229,334.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="151.2495" x2="841.9229" y1="334.6563" y2="334.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323.832" x="158.2495" y="329.5903">REDIRECT https://oauth2-client/koski-opintotiedot</text><polygon fill="#181818" points="355.186,359.7891,345.186,363.7891,355.186,367.7891,351.186,363.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349.186" x2="846.9229" y1="363.7891" y2="363.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9438" x="361.186" y="358.7231">GET /koski-opintotiedot</text><line style="stroke:#181818;stroke-width:1.0;" x1="344.186" x2="386.186" y1="392.9219" y2="392.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="386.186" x2="386.186" y1="392.9219" y2="405.9219"/><line style="stroke:#181818;stroke-width:1.0;" x1="345.186" x2="386.186" y1="405.9219" y2="405.9219"/><polygon fill="#181818" points="355.186,401.9219,345.186,405.9219,355.186,409.9219,351.186,405.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440.1592" x="351.186" y="387.856">Luo CODE_VERIFIER ja CODE_CHALLENGE, tallenna CODE_VERIFIER</text><polygon fill="#181818" points="835.9229,494.5859,845.9229,498.5859,835.9229,502.5859,839.9229,498.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.186" x2="841.9229" y1="498.5859" y2="498.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="479.7368" x="351.186" y="493.52">REDIRECT https://opintopolku.fi/koski/omadata-oauth2/authorize/PARAMS</text><path d="M116,418.9219 L116,564.9219 L338,564.9219 L338,428.9219 L328,418.9219 L116,418.9219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M328,418.9219 L328,428.9219 L338,428.9219 L328,418.9219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5063" x="122" y="435.9888">PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="122" y="451.1216">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="122" y="466.2544">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="122" y="481.3872">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.124" x="122" y="496.52">scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1157" x="122" y="511.6528">response_type=code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.7056" x="122" y="526.7856">response_mode=form_post</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.5762" x="122" y="541.9185">code_challenge_method=S256</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.915" x="122" y="557.0513">code_challenge</text><path d="M20,584.1172 L363.8477,584.1172 L363.8477,591.25 L353.8477,601.25 L20,601.25 L20,584.1172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="707.1172" style="stroke:#000000;stroke-width:1.5;" width="1729.1455" x="20" y="584.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="298.8477" x="35" y="597.1841">OAuth2 authorization end-pointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1491.1973,618.3828,1501.1973,622.3828,1491.1973,626.3828,1495.1973,622.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="847.9229" x2="1497.1973" y1="622.3828" y2="622.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9985" x="854.9229" y="617.3169">GET /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="858.9229,647.5156,848.9229,651.5156,858.9229,655.5156,854.9229,651.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.9229" x2="1502.1973" y1="651.5156" y2="651.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="631.2744" x="864.9229" y="646.4497">REDIRECT https://opintopolku.fi/.../login?...onSuccess=/koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="1628.2705,676.6484,1638.2705,680.6484,1628.2705,684.6484,1632.2705,680.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="847.9229" x2="1634.2705" y1="680.6484" y2="680.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="592.1475" x="854.9229" y="675.5825">GET https://opintopolku.fi/.../login?...onSuccess=/koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="858.9229,705.7813,848.9229,709.7813,858.9229,713.7813,854.9229,709.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.9229" x2="1639.2705" y1="709.7813" y2="709.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.8628" x="864.9229" y="704.7153">HTML:Login-sivu</text><polygon fill="#181818" points="835.9229,734.9141,845.9229,738.9141,835.9229,742.9141,839.9229,738.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="841.9229" y1="738.9141" y2="738.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.9478" x="55.2681" y="733.8481">Suomi.fi &amp; opintopolku.fi -login</text><polygon fill="#181818" points="1628.2705,764.0469,1638.2705,768.0469,1628.2705,772.0469,1632.2705,768.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="847.9229" x2="1634.2705" y1="768.0469" y2="768.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.9478" x="854.9229" y="762.981">Suomi.fi &amp; opintopolku.fi -login</text><polygon fill="#181818" points="858.9229,793.1797,848.9229,797.1797,858.9229,801.1797,854.9229,797.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.9229" x2="1639.2705" y1="797.1797" y2="797.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344.1255" x="864.9229" y="792.1138">REDIRECT /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="1491.1973,822.3125,1501.1973,826.3125,1491.1973,830.3125,1495.1973,826.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="847.9229" x2="1497.1973" y1="826.3125" y2="826.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9985" x="854.9229" y="821.2466">GET /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="858.9229,851.4453,848.9229,855.4453,858.9229,859.4453,854.9229,855.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.9229" x2="1502.1973" y1="855.4453" y2="855.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.9893" x="864.9229" y="850.3794">HTML:Hyv&#228;ksynt&#228;-sivu</text><polygon fill="#181818" points="835.9229,880.5781,845.9229,884.5781,835.9229,888.5781,839.9229,884.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="841.9229" y1="884.5781" y2="884.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.2119" x="55.2681" y="879.5122">Hyv&#228;ksy valtuutus</text><polygon fill="#181818" points="1491.1973,909.7109,1501.1973,913.7109,1491.1973,917.7109,1495.1973,913.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="847.9229" x2="1497.1973" y1="913.7109" y2="913.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.1084" x="854.9229" y="908.645">GET /koski/api/omadata-oauth2/authorize/?PARAMS</text><polygon fill="#181818" points="1628.2705,938.8438,1638.2705,942.8438,1628.2705,946.8438,1632.2705,942.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1503.1973" x2="1634.2705" y1="942.8438" y2="942.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.1074" x="1510.1973" y="937.7778">logout</text><polygon fill="#181818" points="858.9229,1031.5078,848.9229,1035.5078,858.9229,1039.5078,854.9229,1035.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.9229" x2="1502.1973" y1="1035.5078" y2="1035.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.7329" x="864.9229" y="1030.4419">REDIRECT /post-response/RESPONSE_PARAMS</text><path d="M537,955.8438 L537,1101.8438 L842,1101.8438 L842,965.8438 L832,955.8438 L537,955.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M832,955.8438 L832,965.8438 L842,965.8438 L832,955.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.7671" x="543" y="972.9106">RESPONSE_PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="543" y="988.0435">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="543" y="1003.1763">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="543" y="1018.3091">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="543" y="1033.4419">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.5356" x="551.2646" y="1048.5747">Virhetilanteissa code:n sijasta voi sis&#228;lt&#228;&#228;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.9858" x="543" y="1063.7075">error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.7666" x="543" y="1078.8403">error_description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6816" x="543" y="1093.9731">error_uri</text><polygon fill="#181818" points="1491.1973,1124.1719,1501.1973,1128.1719,1491.1973,1132.1719,1495.1973,1128.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="847.9229" x2="1497.1973" y1="1128.1719" y2="1128.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.606" x="854.9229" y="1123.106">GET /post-response/RESPONSE_PARAMS</text><polygon fill="#181818" points="858.9229,1153.3047,848.9229,1157.3047,858.9229,1161.3047,854.9229,1157.3047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="852.9229" x2="1502.1973" y1="1157.3047" y2="1157.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371.4712" x="864.9229" y="1152.2388">HTML:Auto-submit web form, jossa RESPONSE inputteina</text><polygon fill="#181818" points="355.186,1238.4023,345.186,1242.4023,355.186,1246.4023,351.186,1242.4023" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349.186" x2="846.9229" y1="1242.4023" y2="1242.4023"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.8867" x="361.186" y="1222.2036">POST redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8379" x="361.186" y="1237.3364">body=CODE_RESPONSE</text><path d="M33,1170.3047 L33,1285.3047 L338,1285.3047 L338,1180.3047 L328,1170.3047 L33,1170.3047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M328,1170.3047 L328,1180.3047 L338,1180.3047 L328,1170.3047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.1743" x="39" y="1187.3716">CODE_RESPONSE:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="39" y="1202.5044">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="39" y="1217.6372">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.5356" x="47.2646" y="1232.77">Virhetilanteissa code:n sijasta voi sis&#228;lt&#228;&#228;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.9858" x="39" y="1247.9028">error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.7666" x="39" y="1263.0356">error_description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6816" x="39" y="1278.1685">error_uri</text><path d="M102,1305.2344 L384.6943,1305.2344 L384.6943,1312.3672 L374.6943,1322.3672 L102,1322.3672 L102,1305.2344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="208.4609" style="stroke:#000000;stroke-width:1.5;" width="1439.3955" x="102" y="1305.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="237.6943" x="117" y="1318.3013">OAuth2 token-endpointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1491.1973,1387.8984,1501.1973,1391.8984,1491.1973,1395.8984,1495.1973,1391.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.186" x2="1497.1973" y1="1391.8984" y2="1391.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="742.0918" x="351.186" y="1371.6997">mutual-TLS POST https://oph-koski-luovutuspalvelu.opintopolku.fi/koski/api/omadata-oauth2/authorization-server/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.2036" x="359.4507" y="1386.8325">body=CODE_PARAMS</text><path d="M112,1327.3672 L112,1427.3672 L338,1427.3672 L338,1337.3672 L328,1327.3672 L112,1327.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M328,1327.3672 L328,1337.3672 L338,1337.3672 L328,1327.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.54" x="118" y="1344.4341">CODE_PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.3276" x="118" y="1359.5669">grant_type=authorization_code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="118" y="1374.6997">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.0303" x="118" y="1389.8325">code_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="118" y="1404.9653">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="118" y="1420.0981">client_id</text><polygon fill="#181818" points="355.186,1475.9961,345.186,1479.9961,355.186,1483.9961,351.186,1479.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349.186" x2="1502.1973" y1="1479.9961" y2="1479.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8975" x="361.186" y="1474.9302">TOKEN_RESPONSE</text><path d="M191,1438.1641 L191,1508.1641 L338,1508.1641 L338,1448.1641 L328,1438.1641 L191,1438.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M328,1438.1641 L328,1448.1641 L338,1448.1641 L328,1438.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.2773" x="197" y="1455.231">TOKEN_RESPONSE:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.1216" x="197" y="1470.3638">access_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8198" x="197" y="1485.4966">token_type=Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.022" x="197" y="1500.6294">expires_in</text><path d="M225.9629,1527.6953 L530.8804,1527.6953 L530.8804,1534.8281 L520.8804,1544.8281 L225.9629,1544.8281 L225.9629,1527.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="1315.4326" x="225.9629" y="1527.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="259.9175" x="240.9629" y="1540.7622">OAuth2 resource-endpointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1491.1973,1577.0938,1501.1973,1581.0938,1491.1973,1585.0938,1495.1973,1581.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.186" x2="1497.1973" y1="1581.0938" y2="1581.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="708.3667" x="351.186" y="1560.895">mutual-TLS POST https://oph-koski-luovutuspalvelu.opintopolku.fi/koski/api/omadata-oauth2/resource-server</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.3027" x="359.4507" y="1576.0278">Authorization=Bearer TOKEN</text><polygon fill="#181818" points="355.186,1606.2266,345.186,1610.2266,355.186,1614.2266,351.186,1610.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349.186" x2="1502.1973" y1="1610.2266" y2="1610.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.7373" x="361.186" y="1605.1606">DATA</text><path d="M10,1632.2266 L633.8555,1632.2266 L633.8555,1639.3594 L623.8555,1649.3594 L10,1649.3594 L10,1632.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="298.3281" style="stroke:#000000;stroke-width:1.5;" width="903.6895" x="10" y="1632.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="578.8555" x="25" y="1645.2935">Esimerkki hy&#246;dynt&#228;j&#228;palvelusta, jossa erillinen alij&#228;rjestelm&#228; OAuth2-clientille</text><line style="stroke:#181818;stroke-width:1.0;" x1="344.186" x2="386.186" y1="1670.4922" y2="1670.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="386.186" x2="386.186" y1="1670.4922" y2="1683.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="345.186" x2="386.186" y1="1683.4922" y2="1683.4922"/><polygon fill="#181818" points="355.186,1679.4922,345.186,1683.4922,355.186,1687.4922,351.186,1683.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.3237" x="351.186" y="1665.4263">Analysoi/muunna DATA hy&#246;dynt&#228;j&#228;n k&#228;ytt&#246;&#246;n</text><polygon fill="#181818" points="162.2495,1708.625,152.2495,1712.625,162.2495,1716.625,158.2495,1712.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="156.2495" x2="343.186" y1="1712.625" y2="1712.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.8232" x="168.2495" y="1707.5591">Tallenna opintotiedot</text><polygon fill="#181818" points="835.9229,1737.7578,845.9229,1741.7578,835.9229,1745.7578,839.9229,1741.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="344.186" x2="841.9229" y1="1741.7578" y2="1741.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.1714" x="351.186" y="1736.6919">REDIRECT https://client/</text><polygon fill="#181818" points="162.2495,1766.8906,152.2495,1770.8906,162.2495,1774.8906,158.2495,1770.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="156.2495" x2="846.9229" y1="1770.8906" y2="1770.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.7407" x="168.2495" y="1765.8247">GET /</text><polygon fill="#181818" points="835.9229,1796.0234,845.9229,1800.0234,835.9229,1804.0234,839.9229,1800.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="151.2495" x2="841.9229" y1="1800.0234" y2="1800.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.5107" x="158.2495" y="1794.9575">HTML-sivu, jossa opintotiedot mukana</text><path d="M20,1815.0234 L84.4429,1815.0234 L84.4429,1822.1563 L74.4429,1832.1563 L20,1832.1563 L20,1815.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="108.5313" style="stroke:#000000;stroke-width:1.5;" width="883.6895" x="20" y="1815.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="1828.0903">alt</text><polygon fill="#181818" points="835.9229,1849.2891,845.9229,1853.2891,835.9229,1857.2891,839.9229,1853.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="841.9229" y1="1853.2891" y2="1853.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308.5596" x="55.2681" y="1848.2231">Hyv&#228;ksy/katsele/filtter&#246;i/muokkaa opintotietoja</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="903.6895" y1="1862.2891" y2="1862.2891"/><polygon fill="#181818" points="835.9229,1880.4219,845.9229,1884.4219,835.9229,1888.4219,839.9229,1884.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="841.9229" y1="1884.4219" y2="1884.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.6392" x="55.2681" y="1879.356">Tee ostoksia opiskelja-alennuksella</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="903.6895" y1="1893.4219" y2="1893.4219"/><polygon fill="#181818" points="835.9229,1911.5547,845.9229,1915.5547,835.9229,1919.5547,839.9229,1915.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="841.9229" y1="1915.5547" y2="1915.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.397" x="55.2681" y="1910.4888">...</text><!--SRC=[nLV1RkCs4BthAuWzj9TL12pG7WIuWPkeco3UEB2zsqEt41Xv4ez5aO98kkj-JxuXF-0Vwr2qRCdsscxHRI-2D2GVXs-6RqO6ZG0sx5ipUyV26I_B9IkvcR5GGxu0gJKoq5X0bUSOpfQhr-bIcjNBVFKY10G1puogcDLG1K79AuCPbbmQbWa4QLAoBp03zbl0s4rxCMqY5Y1iyFkXTVlpG-zY-CYp7EIKXg_gcRlhdISfVsumVeL7EeZWAEdZ8usnUioj-fv5kT8vHghWKsvugBZR8N9FLU6V47U0xzpS6lDkEBwxzGWpOqeTHv6LnYwuAb4QLIgHsuidZ3AkGrMMEEUHKCye8x9ThWdfNLnSTE2l-kCQVBZ5YCPM5KX8eNF9RVXSALkof0a7wuHZJQWs_2sRAwqvWmg5G0cISO4qevg3DY0AOd_DfcURPi5doOZnZyCFyGxlQrYS4en6lNf1ZGIGOpKdjsn1dvpDEIii6ix8v01pHQS0iW8oHVb5M5gxLSIICJO8N9XO-5CxN34RFYJt6qgzQr7Gca7pTz8gPk-J2Ok27VCkyCtamo3KkB17zdqpS8TRlKGv-Og6U08VwT27rI1CbNaJ6eM5-pxBiJh1EW2dN1qbrxUZv6gouS5dvJfIXm0F-N5o_yxKWLNiQdYTf9-IqUqljyd8nRCsNDtq1uFa_dtobXbEMI8bxyvimPquHlTk7BzvqKD_rFym3gGom0GycS0RueOzd0OLJB62pAIsme2Ita2WCrK23UXIIGsfMPRGozIqPIheg_UagY8jbIOkw3FDPlN9dcaKQFzfR_pkXnztXWAI7EQySI_DFLoBPkCrDwWae_6mTDcFab4cBOrPlGOxCV9IqWxHIIO2l-RlqamguxNdajwK7Dii0wrxvsxQTTj9b7Vws-pcy0_Tt7ZWCFtzFNo16w5atx6kIooi_JbyajEh3dcqeVoVaVZlnRwcvcQvMBtakbRhOmmryzY22sD9j_KPZl7oY7ENUzvvLeawPSt9X8tS1GoRYncDal73y7wSf7itVsVaX0JKrvsnJrZDWEeQLLP0LmgTFNO5RCvf8biezCLC6AVvSG1LfIh_JAUWimfBTvtN5eU_KO1Zl1q_rB50afQeKDl70Wtx0nwP4wccZZSu36LfgJAXvC7NPFzXE9wmDZ6VvQEQBdkrQZT0BNexzlW_P75VI8sYpYua-xv-RgjCGtT1ESn5E1cC_P6taZGBVTKJLYrSegyRc8k35UX8YjTw7hew3LNasgCjZtj9shB6T2WYp5UV3bPQqxfvf8IBJqYDSoUFj-czvMgJDvimJuPtoVsXU7O7OkhFdGQdDRT1_VIU_GoyegtXIqbRwvJKxaY9endALXdy_y7PUEBZuiBIRtEyFfVdvn1nr_r9lvDytwIR3WwrMNt9nL8hZ0fhNIFbNEbkkcLrzIhtCLhTvQJfnZgztTdTMDDSdzTTdzrUDrIrdQ9aoBaJB2ey9ufJb7D3Fsj0Fqg2PAvQlJgkL9xp5gHHSm83eU4hQ1C0HZAiSlTZGijq3cBEG-xuiZdXY-FhtP-PJn3t-0i0]--></g></svg>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2073px" preserveAspectRatio="none" style="width:2009px;height:2073px;background:#FFFFFF;" version="1.1" viewBox="0 0 2009 2073" width="2009px" zoomAndPan="magnify"><title>OAuth2 -happy path -sekvenssi esimerkki-hy&#246;dynt&#228;j&#228;lle</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="442.2715" x="785.2632" y="27.9951">OAuth2 -happy path -sekvenssi esimerkki-hy&#246;dynt&#228;j&#228;lle</text><rect fill="none" height="464.7891" style="stroke:#000000;stroke-width:1.5;" width="942.3999" x="20" y="135.5938"/><rect fill="none" height="707.1172" style="stroke:#000000;stroke-width:1.5;" width="1983.7979" x="20" y="614.3828"/><rect fill="none" height="208.4609" style="stroke:#000000;stroke-width:1.5;" width="1582.418" x="133" y="1335.5"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="1480.582" x="234.8359" y="1557.9609"/><rect fill="none" height="313.4609" style="stroke:#000000;stroke-width:1.5;" width="962.3999" x="10" y="1662.4922"/><rect fill="none" height="108.5313" style="stroke:#000000;stroke-width:1.5;" width="942.3999" x="20" y="1860.4219"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="155.5361" x2="155.5361" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="373.8359" x2="373.8359" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="877.4087" x2="877.4087" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1532.9395" x2="1532.9395" y1="118.5938" y2="1992.9531"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1854.418" x2="1854.418" y1="118.5938" y2="1992.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.5361" x="30" y="115.292">user</text><ellipse cx="48.2681" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.2681,58.7969 L48.2681,85.7969 M35.2681,66.7969 L61.2681,66.7969 M48.2681,85.7969 L35.2681,100.7969 M48.2681,85.7969 L61.2681,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.5361" x="30" y="2004.9482">user</text><ellipse cx="48.2681" cy="2016.75" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.2681,2024.75 L48.2681,2051.75 M35.2681,2032.75 L61.2681,2032.75 M48.2681,2051.75 L35.2681,2066.75 M48.2681,2051.75 L61.2681,2066.75 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.2998" x="76.5361" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.2998" x="83.5361" y="107.292">Hy&#246;dynt&#228;j&#228;n palvelu</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.2998" x="76.5361" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.2998" x="83.5361" y="2011.9482">Hy&#246;dynt&#228;j&#228;n palvelu</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="259.6631" x="244.8359" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.6631" x="251.8359" y="90.9951">Hy&#246;dynt&#228;j&#228;n OAuth2-alij&#228;rjestelm&#228;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.7197" x="325.8076" y="107.292">OAuth2 Client</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="259.6631" x="244.8359" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.6631" x="251.8359" y="2011.9482">Hy&#246;dynt&#228;j&#228;n OAuth2-alij&#228;rjestelm&#228;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.7197" x="325.8076" y="2028.2451">OAuth2 Client</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.9912" x="804.4087" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="839.6377" y="90.9951">Web-selain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.9912" x="811.4087" y="107.292">OAuth2 User agent</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.9912" x="804.4087" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="839.6377" y="2011.9482">Web-selain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.9912" x="811.4087" y="2028.2451">OAuth2 User agent</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343.4785" x="1361.9395" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1512.4805" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="329.4785" x="1368.9395" y="107.292">OAuth2 Authorization server &amp; resource server</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="343.4785" x="1361.9395" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1512.4805" y="2011.9482">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="329.4785" x="1368.9395" y="2028.2451">OAuth2 Authorization server &amp; resource server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278.3799" x="1715.418" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264.3799" x="1722.418" y="107.292">Opintopolku &amp; Suomi.fi-kirjautuminen</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278.3799" x="1715.418" y="1991.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264.3799" x="1722.418" y="2011.9482">Opintopolku &amp; Suomi.fi-kirjautuminen</text><path d="M20,135.5938 L458.5864,135.5938 L458.5864,188.125 L448.5864,198.125 L20,198.125 L20,135.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="464.7891" style="stroke:#000000;stroke-width:1.5;" width="942.3999" x="20" y="135.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="346.2964" x="35" y="148.6606">Esimerkki hy&#246;dynt&#228;j&#228;palvelusta, jossa erillinen</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="228.0332" x="39.5259" y="163.7935">alij&#228;rjestelm&#228; OAuth2-clientille</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="389.0605" x="39.5259" y="178.9263">HUOM: Hy&#246;dynt&#228;j&#228;-palveluiden sis&#228;isi&#228; kirjautumisia</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="326.7012" x="44.0518" y="194.0591">ja muita autentikointeja ei ole t&#228;ss&#228; kuvattu</text><polygon fill="#181818" points="866.4043,215.2578,876.4043,219.2578,866.4043,223.2578,870.4043,219.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="872.4043" y1="219.2578" y2="219.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8262" x="55.2681" y="214.1919">OPEN https://client/</text><polygon fill="#181818" points="166.686,244.3906,156.686,248.3906,166.686,252.3906,162.686,248.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="160.686" x2="877.4043" y1="248.3906" y2="248.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.7407" x="172.686" y="243.3247">GET /</text><polygon fill="#181818" points="866.4043,273.5234,876.4043,277.5234,866.4043,281.5234,870.4043,277.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.686" x2="872.4043" y1="277.5234" y2="277.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.1836" x="162.686" y="272.4575">HTML-sivu</text><polygon fill="#181818" points="866.4043,302.6563,876.4043,306.6563,866.4043,310.6563,870.4043,306.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="872.4043" y1="306.6563" y2="306.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331.9507" x="55.2681" y="301.5903">OPEN "Lis&#228;&#228;/k&#228;sittele KOSKI-opintotiedot"-toiminto</text><polygon fill="#181818" points="166.686,331.7891,156.686,335.7891,166.686,339.7891,162.686,335.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="160.686" x2="877.4043" y1="335.7891" y2="335.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9438" x="172.686" y="330.7231">GET /koski-opintotiedot</text><polygon fill="#181818" points="866.4043,360.9219,876.4043,364.9219,866.4043,368.9219,870.4043,364.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.686" x2="872.4043" y1="364.9219" y2="364.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323.832" x="162.686" y="359.856">REDIRECT https://oauth2-client/koski-opintotiedot</text><polygon fill="#181818" points="385.6675,390.0547,375.6675,394.0547,385.6675,398.0547,381.6675,394.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379.6675" x2="877.4043" y1="394.0547" y2="394.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9438" x="391.6675" y="388.9888">GET /koski-opintotiedot</text><line style="stroke:#181818;stroke-width:1.0;" x1="374.6675" x2="416.6675" y1="423.1875" y2="423.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.6675" x2="416.6675" y1="423.1875" y2="436.1875"/><line style="stroke:#181818;stroke-width:1.0;" x1="375.6675" x2="416.6675" y1="436.1875" y2="436.1875"/><polygon fill="#181818" points="385.6675,432.1875,375.6675,436.1875,385.6675,440.1875,381.6675,436.1875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440.1592" x="381.6675" y="418.1216">Luo CODE_VERIFIER ja CODE_CHALLENGE, tallenna CODE_VERIFIER</text><polygon fill="#181818" points="866.4043,524.8516,876.4043,528.8516,866.4043,532.8516,870.4043,528.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374.6675" x2="872.4043" y1="528.8516" y2="528.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="479.7368" x="381.6675" y="523.7856">REDIRECT https://opintopolku.fi/koski/omadata-oauth2/authorize/PARAMS</text><path d="M147,449.1875 L147,595.1875 L369,595.1875 L369,459.1875 L359,449.1875 L147,449.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M359,449.1875 L359,459.1875 L369,459.1875 L359,449.1875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5063" x="153" y="466.2544">PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="153" y="481.3872">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="153" y="496.52">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="153" y="511.6528">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.124" x="153" y="526.7856">scope</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1157" x="153" y="541.9185">response_type=code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.7056" x="153" y="557.0513">response_mode=form_post</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.5762" x="153" y="572.1841">code_challenge_method=S256</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.915" x="153" y="587.3169">code_challenge</text><path d="M20,614.3828 L363.8477,614.3828 L363.8477,621.5156 L353.8477,631.5156 L20,631.5156 L20,614.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="707.1172" style="stroke:#000000;stroke-width:1.5;" width="1983.7979" x="20" y="614.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="298.8477" x="35" y="627.4497">OAuth2 authorization end-pointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1521.6787,648.6484,1531.6787,652.6484,1521.6787,656.6484,1525.6787,652.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="878.4043" x2="1527.6787" y1="652.6484" y2="652.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9985" x="885.4043" y="647.5825">GET /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="889.4043,677.7813,879.4043,681.7813,889.4043,685.7813,885.4043,681.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="883.4043" x2="1532.6787" y1="681.7813" y2="681.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="631.2744" x="895.4043" y="676.7153">REDIRECT https://opintopolku.fi/.../login?...onSuccess=/koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="1842.6079,706.9141,1852.6079,710.9141,1842.6079,714.9141,1846.6079,710.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="878.4043" x2="1848.6079" y1="710.9141" y2="710.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="592.1475" x="885.4043" y="705.8481">GET https://opintopolku.fi/.../login?...onSuccess=/koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="889.4043,736.0469,879.4043,740.0469,889.4043,744.0469,885.4043,740.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="883.4043" x2="1853.6079" y1="740.0469" y2="740.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.8628" x="895.4043" y="734.981">HTML:Login-sivu</text><polygon fill="#181818" points="866.4043,765.1797,876.4043,769.1797,866.4043,773.1797,870.4043,769.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="872.4043" y1="769.1797" y2="769.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.9478" x="55.2681" y="764.1138">Suomi.fi &amp; opintopolku.fi -login</text><polygon fill="#181818" points="1842.6079,794.3125,1852.6079,798.3125,1842.6079,802.3125,1846.6079,798.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="878.4043" x2="1848.6079" y1="798.3125" y2="798.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.9478" x="885.4043" y="793.2466">Suomi.fi &amp; opintopolku.fi -login</text><polygon fill="#181818" points="889.4043,823.4453,879.4043,827.4453,889.4043,831.4453,885.4043,827.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="883.4043" x2="1853.6079" y1="827.4453" y2="827.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344.1255" x="895.4043" y="822.3794">REDIRECT /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="1521.6787,852.5781,1531.6787,856.5781,1521.6787,860.5781,1525.6787,856.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="878.4043" x2="1527.6787" y1="856.5781" y2="856.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9985" x="885.4043" y="851.5122">GET /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="889.4043,881.7109,879.4043,885.7109,889.4043,889.7109,885.4043,885.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="883.4043" x2="1532.6787" y1="885.7109" y2="885.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.9893" x="895.4043" y="880.645">HTML:Hyv&#228;ksynt&#228;-sivu</text><polygon fill="#181818" points="866.4043,910.8438,876.4043,914.8438,866.4043,918.8438,870.4043,914.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="872.4043" y1="914.8438" y2="914.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.2119" x="55.2681" y="909.7778">Hyv&#228;ksy valtuutus</text><polygon fill="#181818" points="1521.6787,939.9766,1531.6787,943.9766,1521.6787,947.9766,1525.6787,943.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="878.4043" x2="1527.6787" y1="943.9766" y2="943.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.1084" x="885.4043" y="938.9106">GET /koski/api/omadata-oauth2/authorize/?PARAMS</text><polygon fill="#181818" points="1842.6079,969.1094,1852.6079,973.1094,1842.6079,977.1094,1846.6079,973.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1533.6787" x2="1848.6079" y1="973.1094" y2="973.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41.1074" x="1540.6787" y="968.0435">logout</text><polygon fill="#181818" points="889.4043,1061.7734,879.4043,1065.7734,889.4043,1069.7734,885.4043,1065.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="883.4043" x2="1532.6787" y1="1065.7734" y2="1065.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.7329" x="895.4043" y="1060.7075">REDIRECT /post-response/RESPONSE_PARAMS</text><path d="M567,986.1094 L567,1132.1094 L872,1132.1094 L872,996.1094 L862,986.1094 L567,986.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M862,986.1094 L862,996.1094 L872,996.1094 L862,986.1094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.7671" x="573" y="1003.1763">RESPONSE_PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="573" y="1018.3091">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="573" y="1033.4419">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="573" y="1048.5747">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="573" y="1063.7075">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.5356" x="581.2646" y="1078.8403">Virhetilanteissa code:n sijasta voi sis&#228;lt&#228;&#228;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.9858" x="573" y="1093.9731">error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.7666" x="573" y="1109.106">error_description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6816" x="573" y="1124.2388">error_uri</text><polygon fill="#181818" points="1521.6787,1154.4375,1531.6787,1158.4375,1521.6787,1162.4375,1525.6787,1158.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="878.4043" x2="1527.6787" y1="1158.4375" y2="1158.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.606" x="885.4043" y="1153.3716">GET /post-response/RESPONSE_PARAMS</text><polygon fill="#181818" points="889.4043,1183.5703,879.4043,1187.5703,889.4043,1191.5703,885.4043,1187.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="883.4043" x2="1532.6787" y1="1187.5703" y2="1187.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="371.4712" x="895.4043" y="1182.5044">HTML:Auto-submit web form, jossa RESPONSE inputteina</text><polygon fill="#181818" points="385.6675,1268.668,375.6675,1272.668,385.6675,1276.668,381.6675,1272.668" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379.6675" x2="877.4043" y1="1272.668" y2="1272.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.8867" x="391.6675" y="1252.4692">POST redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8379" x="391.6675" y="1267.6021">body=CODE_RESPONSE</text><path d="M63,1200.5703 L63,1315.5703 L368,1315.5703 L368,1210.5703 L358,1200.5703 L63,1200.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M358,1200.5703 L358,1210.5703 L368,1210.5703 L358,1200.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.1743" x="69" y="1217.6372">CODE_RESPONSE:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9316" x="69" y="1232.77">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="69" y="1247.9028">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.5356" x="77.2646" y="1263.0356">Virhetilanteissa code:n sijasta voi sis&#228;lt&#228;&#228;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.9858" x="69" y="1278.1685">error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.7666" x="69" y="1293.3013">error_description</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6816" x="69" y="1308.4341">error_uri</text><path d="M133,1335.5 L415.6943,1335.5 L415.6943,1342.6328 L405.6943,1352.6328 L133,1352.6328 L133,1335.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="208.4609" style="stroke:#000000;stroke-width:1.5;" width="1582.418" x="133" y="1335.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="237.6943" x="148" y="1348.5669">OAuth2 token-endpointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1521.6787,1418.1641,1531.6787,1422.1641,1521.6787,1426.1641,1525.6787,1422.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374.6675" x2="1527.6787" y1="1422.1641" y2="1422.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="742.0918" x="381.6675" y="1401.9653">mutual-TLS POST https://oph-koski-luovutuspalvelu.opintopolku.fi/koski/api/omadata-oauth2/authorization-server/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.2036" x="389.9321" y="1417.0981">body=CODE_PARAMS</text><path d="M143,1357.6328 L143,1457.6328 L369,1457.6328 L369,1367.6328 L359,1357.6328 L143,1357.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M359,1357.6328 L359,1367.6328 L369,1367.6328 L359,1357.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.54" x="149" y="1374.6997">CODE_PARAMS:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.3276" x="149" y="1389.8325">grant_type=authorization_code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.3511" x="149" y="1404.9653">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.0303" x="149" y="1420.0981">code_verifier</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4897" x="149" y="1435.231">redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.0693" x="149" y="1450.3638">client_id</text><polygon fill="#181818" points="385.6675,1506.2617,375.6675,1510.2617,385.6675,1514.2617,381.6675,1510.2617" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379.6675" x2="1532.6787" y1="1510.2617" y2="1510.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8975" x="391.6675" y="1505.1958">TOKEN_RESPONSE</text><path d="M221,1468.4297 L221,1538.4297 L368,1538.4297 L368,1478.4297 L358,1468.4297 L221,1468.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M358,1468.4297 L358,1478.4297 L368,1478.4297 L358,1468.4297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.2773" x="227" y="1485.4966">TOKEN_RESPONSE:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87.1216" x="227" y="1500.6294">access_token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8198" x="227" y="1515.7622">token_type=Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.022" x="227" y="1530.895">expires_in</text><path d="M234.8359,1557.9609 L539.7534,1557.9609 L539.7534,1565.0938 L529.7534,1575.0938 L234.8359,1575.0938 L234.8359,1557.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="1480.582" x="234.8359" y="1557.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="259.9175" x="249.8359" y="1571.0278">OAuth2 resource-endpointin k&#228;ytt&#246;</text><polygon fill="#181818" points="1521.6787,1607.3594,1531.6787,1611.3594,1521.6787,1615.3594,1525.6787,1611.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374.6675" x2="1527.6787" y1="1611.3594" y2="1611.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="708.3667" x="381.6675" y="1591.1606">mutual-TLS POST https://oph-koski-luovutuspalvelu.opintopolku.fi/koski/api/omadata-oauth2/resource-server</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.3027" x="389.9321" y="1606.2935">Authorization=Bearer TOKEN</text><polygon fill="#181818" points="385.6675,1636.4922,375.6675,1640.4922,385.6675,1644.4922,381.6675,1640.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="379.6675" x2="1532.6787" y1="1640.4922" y2="1640.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.7373" x="391.6675" y="1635.4263">DATA</text><path d="M10,1662.4922 L401.2964,1662.4922 L401.2964,1684.7578 L391.2964,1694.7578 L10,1694.7578 L10,1662.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="313.4609" style="stroke:#000000;stroke-width:1.5;" width="962.3999" x="10" y="1662.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="346.2964" x="25" y="1675.5591">Esimerkki hy&#246;dynt&#228;j&#228;palvelusta, jossa erillinen</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="228.0332" x="29.5259" y="1690.6919">alij&#228;rjestelm&#228; OAuth2-clientille</text><line style="stroke:#181818;stroke-width:1.0;" x1="374.6675" x2="416.6675" y1="1715.8906" y2="1715.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.6675" x2="416.6675" y1="1715.8906" y2="1728.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="375.6675" x2="416.6675" y1="1728.8906" y2="1728.8906"/><polygon fill="#181818" points="385.6675,1724.8906,375.6675,1728.8906,385.6675,1732.8906,381.6675,1728.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.3237" x="381.6675" y="1710.8247">Analysoi/muunna DATA hy&#246;dynt&#228;j&#228;n k&#228;ytt&#246;&#246;n</text><polygon fill="#181818" points="166.686,1754.0234,156.686,1758.0234,166.686,1762.0234,162.686,1758.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="160.686" x2="373.6675" y1="1758.0234" y2="1758.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.8232" x="172.686" y="1752.9575">Tallenna opintotiedot</text><polygon fill="#181818" points="866.4043,1783.1563,876.4043,1787.1563,866.4043,1791.1563,870.4043,1787.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374.6675" x2="872.4043" y1="1787.1563" y2="1787.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.1714" x="381.6675" y="1782.0903">REDIRECT https://client/</text><polygon fill="#181818" points="166.686,1812.2891,156.686,1816.2891,166.686,1820.2891,162.686,1816.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="160.686" x2="877.4043" y1="1816.2891" y2="1816.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34.7407" x="172.686" y="1811.2231">GET /</text><polygon fill="#181818" points="866.4043,1841.4219,876.4043,1845.4219,866.4043,1849.4219,870.4043,1845.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="155.686" x2="872.4043" y1="1845.4219" y2="1845.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.5107" x="162.686" y="1840.356">HTML-sivu, jossa opintotiedot mukana</text><path d="M20,1860.4219 L84.4429,1860.4219 L84.4429,1867.5547 L74.4429,1877.5547 L20,1877.5547 L20,1860.4219 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="108.5313" style="stroke:#000000;stroke-width:1.5;" width="942.3999" x="20" y="1860.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="1873.4888">alt</text><polygon fill="#181818" points="866.4043,1894.6875,876.4043,1898.6875,866.4043,1902.6875,870.4043,1898.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="872.4043" y1="1898.6875" y2="1898.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308.5596" x="55.2681" y="1893.6216">Hyv&#228;ksy/katsele/filtter&#246;i/muokkaa opintotietoja</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="962.3999" y1="1907.6875" y2="1907.6875"/><polygon fill="#181818" points="866.4043,1925.8203,876.4043,1929.8203,866.4043,1933.8203,870.4043,1929.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="872.4043" y1="1929.8203" y2="1929.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.6392" x="55.2681" y="1924.7544">Tee ostoksia opiskelja-alennuksella</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="962.3999" y1="1938.8203" y2="1938.8203"/><polygon fill="#181818" points="866.4043,1956.9531,876.4043,1960.9531,866.4043,1964.9531,870.4043,1960.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.2681" x2="872.4043" y1="1960.9531" y2="1960.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12.397" x="55.2681" y="1955.8872">...</text><!--SRC=[nLVDRjj64BxpAHOvf9VG10Aq1mAgeTfiR5Ys34b93qb1hAcnDIAvIt1trQZFesVm2-Z5EiiL9L9Y9BLesWiX3UTllvdzPgXHPy26VQDdxva_uqMnP0NNC-OhI1SWb4862dCeqnJzsNBzEbqAlLxDrwii0y_ZYPObCmfApojugJ71WWlDaWn1w9Za2qo0VVOOksaQ2ugIBI0ptkzTXbq6BacVPqX_opae3Lc-Nf7Y9lshodJVeSqjvY-rqz_WYOwMSHGxmu-amYeLQ_m32rAfKWnapgTSSrzognNOfopnJmXR_k-iRkNwRZY-kzrvxM_qkKOfc4M2ehnb9IXfIiB4ILp4cTQ52eF026qMN1Oej2nabfgBPmmIhdnP53ZdGIPVK0GakzmWsxkuk6YbSzKVLyaCTpuewDZ87CcNds8vfuEO70K86_kbbAPWKLrYrYhnfaPAytTiBfNY34hCCclxHR3zIjGLSYKaFI2bcu_3-x1TId_Z5gT0kA1Qhr0XcUzoKyZ9bCqvomrgpaXgFQQIpWGa1MIIsfRSAMKD2JEjZUVPMZF_vsRDGpPyZ1ws0BlS0g-XGVfxtHgo3z641TwUUD_npUH-u2jSc2Dntmpi-TQh8ALSKHDGuFh4TqNM25Eft_XQOcx_dvLOrPuj1wTI7KNNjwFeQhB5mVNqfbHT3hloE1c_fJemabqDhwFuKpIw_VKs6jbwLeAhc_vW43ryYDunpQbDXE1jpOQx4yTetvJZzpPux8_wzsDFI0qiWsVjEK5OeuTJhuGfbf3es9JeKTzhy5GY2w0Ngf12GQoN1VGIEMs8SlhNUvPb7XTI4HRqDqvcrSbUw2rG_6bl_Fx7d_PUUI2cp6PZVzHNSSCUlCKUzDulRFUZODH9IwtNhzvUZHmHDKjq4WdFsVnTc8bp71DTqYyfnYP9GAdUkK7RQLl2Sab_dsZMVzVD3GVMfxk_tHUu9atYptPApA_owJx9QQkkZBQG_pCG_xtQLz3SB1VhLQegmZw6KAt75ZpJXgXRdP4OBuuaTtcGdKELe9D6dspOm5v0lxwOmIWQFmuVnb5ySFFttfoWWEgwC_O9ondGOACv2sYdePM7TeRDEIcoXKGtpp9jEJ_qe2nbwPxn55HIOc6lyqPY_MyPu1Xknmzrh9349T9NvYb7pVw09sP9gXxbjH-6eZ0qcL1mxrkq_pWSJrWJc2_YIKwNlOgrQqSDU5loy3z4yP18jKn1-2G_vC_TbAdXpgc7UUPF1cDtv1qbpNmtzJ8Z5xRHDplCHUS4EjBY5P_xRlSBx9Apm_6WIHlIa0v5WBdfq_8LLx1k7p7vnMUanRBLnxlstc6rxPjjcIV3k-YXgvxj5o6j_PQ3umfRhtgwp7u1Nb9e-5fGQ1KJsnqPSVKc_FyNPvk9guijIsjxtvpBuTC5t7L_qcyrttTQgBskHQilUBPK4eFS6BjAsMJQONUuhb_5eO_6VZcfzx7MTdVsFbQlr-VjrsSls3LOpQIe7L9kAOj6pudn5AHSqpSVq8TJHaHNhbyjLZ9DUSEbbdDo1fc2RtYR030YOfdIruarKobaSqxVeuINISb_TjpUVgcv5h6Flm00]--></g></svg>
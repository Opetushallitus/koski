<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1250px" preserveAspectRatio="none" style="width:4076px;height:1250px;background:#FFFFFF;" version="1.1" viewBox="0 0 4076 1250" width="4076px" zoomAndPan="magnify"><title>OAuth2 -happy path -sekvenssi Koski-servleteiss&#228;</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="396.0947" x="1839.2573" y="27.9951">OAuth2 -happy path -sekvenssi Koski-servleteiss&#228;</text><rect fill="none" height="253.2656" style="stroke:#000000;stroke-width:1.5;" width="1975.1436" x="1117.9536" y="575.9844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="130.5361" x2="130.5361" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="468.8774" x2="468.8774" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="797.6953" x2="797.6953" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1176.9536" x2="1176.9536" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1555.7197" x2="1555.7197" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1908.1973" x2="1908.1973" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2213.1777" x2="2213.1777" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2642.0835" x2="2642.0835" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2918.3228" x2="2918.3228" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3179.0972" x2="3179.0972" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3605.0078" x2="3605.0078" y1="118.5938" y2="1170.1094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3922.623" x2="3922.623" y1="118.5938" y2="1170.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.5361" x="5" y="115.292">user</text><ellipse cx="23.2681" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.2681,58.7969 L23.2681,85.7969 M10.2681,66.7969 L36.2681,66.7969 M23.2681,85.7969 L10.2681,100.7969 M23.2681,85.7969 L36.2681,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.5361" x="5" y="1182.1045">user</text><ellipse cx="23.2681" cy="1193.9063" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.2681,1201.9063 L23.2681,1228.9063 M10.2681,1209.9063 L36.2681,1209.9063 M23.2681,1228.9063 L10.2681,1243.9063 M23.2681,1228.9063 L36.2681,1243.9063 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.6553" x="51.5361" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.6553" x="58.5361" y="90.9951">Hy&#246;dynt&#228;j&#228;-backend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="110.5986" y="107.292">Client</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158.6553" x="51.5361" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.6553" x="58.5361" y="1189.1045">Hy&#246;dynt&#228;j&#228;-backend</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="110.5986" y="1205.4014">Client</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.5332" x="423.8774" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="430.8774" y="90.9951">Web-selain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8018" x="431.2432" y="107.292">User agent</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.5332" x="423.8774" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="430.8774" y="1189.1045">Web-selain</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8018" x="431.2432" y="1205.4014">User agent</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="333.8945" x="631.6953" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="777.4443" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319.8945" x="638.6953" y="107.292">OmaDataOAuth2ResourceOwnerReactServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="333.8945" x="631.6953" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="777.4443" y="1189.1045">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319.8945" x="638.6953" y="1205.4014">OmaDataOAuth2ResourceOwnerReactServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.0459" x="1127.9536" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0459" x="1134.9536" y="90.9951">Opintopolku</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.8408" x="1138.5562" y="107.292">CAS Oppija</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99.0459" x="1127.9536" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.0459" x="1134.9536" y="1189.1045">Opintopolku</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.8408" x="1138.5562" y="1205.4014">CAS Oppija</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89.1816" x="1511.7197" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1535.1123" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.1816" x="1518.7197" y="107.292">CasServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89.1816" x="1511.7197" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1535.1123" y="1189.1045">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.1816" x="1518.7197" y="1205.4014">CasServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="296.9805" x="1760.1973" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1887.4893" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282.9805" x="1767.1973" y="107.292">OmaDataOAuth2CASWorkaroundServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="296.9805" x="1760.1973" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="1887.4893" y="1189.1045">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282.9805" x="1767.1973" y="1205.4014">OmaDataOAuth2CASWorkaroundServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293.7881" x="2067.1777" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="2192.8735" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.7881" x="2074.1777" y="107.292">OmaDataOAuth2ResourceOwnerServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293.7881" x="2067.1777" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="2192.8735" y="1189.1045">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.7881" x="2074.1777" y="1205.4014">OmaDataOAuth2ResourceOwnerServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="203.2393" x="2541.0835" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="2621.5049" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.2393" x="2548.0835" y="107.292">KoskiSpecificLogoutServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="203.2393" x="2541.0835" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="2621.5049" y="1189.1045">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.2393" x="2548.0835" y="1205.4014">KoskiSpecificLogoutServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="328.7744" x="2754.3228" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="2897.5117" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="314.7744" x="2761.3228" y="107.292">OmaDataOAuth2LogoutPostResponseServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="328.7744" x="2754.3228" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="2897.5117" y="1189.1045">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="314.7744" x="2761.3228" y="1205.4014">OmaDataOAuth2LogoutPostResponseServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172.6074" x="3093.0972" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.6074" x="3100.0972" y="90.9951">KOSKI-luovutuspalvelu</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8076" x="3159.9971" y="107.292">nginx</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172.6074" x="3093.0972" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.6074" x="3100.0972" y="1189.1045">KOSKI-luovutuspalvelu</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8076" x="3159.9971" y="1205.4014">nginx</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="322.6152" x="3444.0078" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="3584.1172" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="308.6152" x="3451.0078" y="107.292">OmaDataOAuth2AuthorizationServerServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="322.6152" x="3444.0078" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="3584.1172" y="1189.1045">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="308.6152" x="3451.0078" y="1205.4014">OmaDataOAuth2AuthorizationServerServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293.9863" x="3776.623" y="71"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="3902.418" y="90.9951">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.9863" x="3783.623" y="107.292">OmaDataOAuth2ResourceServerServlet</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293.9863" x="3776.623" y="1169.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42.3965" x="3902.418" y="1189.1045">KOSKI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.9863" x="3783.623" y="1205.4014">OmaDataOAuth2ResourceServerServlet</text><polygon fill="#181818" points="457.644,145.7266,467.644,149.7266,457.644,153.7266,461.644,149.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="130.8638" x2="463.644" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314.7803" x="137.8638" y="144.6606">OPEN /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="786.6426,174.8594,796.6426,178.8594,786.6426,182.8594,790.6426,178.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="469.644" x2="792.6426" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9985" x="476.644" y="173.7935">GET /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="1165.4766,249.3906,1175.4766,253.3906,1165.4766,257.3906,1169.4766,253.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="798.6426" x2="1171.4766" y1="253.3906" y2="253.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335.6006" x="805.6426" y="202.9263">REDIRECT https://opintopolku.fi/cas-oppija/login/fi/?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.4277" x="813.9072" y="218.0591">service=/koski/cas/oppija?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.3047" x="822.1719" y="233.1919">onSuccess=/koski/omadata-oauth2/cas-workaround</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.7524" x="830.4365" y="248.3247">/authorize/BASE64URLENCODED_PARAMS</text><polygon fill="#181818" points="480.644,278.5234,470.644,282.5234,480.644,286.5234,476.644,282.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="474.644" x2="1176.4766" y1="282.5234" y2="282.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.3076" x="486.644" y="277.4575">Login-sivu</text><polygon fill="#181818" points="457.644,307.6563,467.644,311.6563,457.644,315.6563,461.644,311.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="23.2681" x2="463.644" y1="311.6563" y2="311.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.4004" x="30.2681" y="306.5903">Suomi.fi-login</text><polygon fill="#181818" points="1165.4766,336.7891,1175.4766,340.7891,1165.4766,344.7891,1169.4766,340.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="469.644" x2="1171.4766" y1="340.7891" y2="340.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.4004" x="476.644" y="335.7231">Suomi.fi-login</text><polygon fill="#181818" points="1544.3105,396.1875,1554.3105,400.1875,1544.3105,404.1875,1548.3105,400.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1177.4766" x2="1550.3105" y1="400.1875" y2="400.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.4565" x="1184.4766" y="364.856">REDIRECT /koski/cas/oppija?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.3047" x="1201.0059" y="379.9888">onSuccess=/koski/omadata-oauth2/cas-workaround</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.7524" x="1209.2705" y="395.1216">/authorize/BASE64URLENCODED_PARAMS</text><polygon fill="#181818" points="1896.6875,440.4531,1906.6875,444.4531,1896.6875,448.4531,1900.6875,444.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1556.3105" x2="1902.6875" y1="444.4531" y2="444.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328.377" x="1563.3105" y="424.2544">REDIRECT /koski/omadata-oauth2/cas-workaround</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.7524" x="1588.1045" y="439.3872">/authorize/BASE64URLENCODED_PARAMS</text><polygon fill="#181818" points="809.6426,469.5859,799.6426,473.5859,809.6426,477.5859,805.6426,473.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.6426" x2="1907.6875" y1="473.5859" y2="473.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344.1255" x="815.6426" y="468.52">REDIRECT /koski/omadata-oauth2/authorize/PARAMS</text><polygon fill="#181818" points="480.644,498.7188,470.644,502.7188,480.644,506.7188,476.644,502.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="474.644" x2="797.6426" y1="502.7188" y2="502.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.4341" x="486.644" y="497.6528">Hyv&#228;ksynt&#228;-sivu</text><polygon fill="#181818" points="457.644,527.8516,467.644,531.8516,457.644,535.8516,461.644,531.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="23.2681" x2="463.644" y1="531.8516" y2="531.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.2119" x="30.2681" y="526.7856">Hyv&#228;ksy valtuutus</text><polygon fill="#181818" points="2202.0718,556.9844,2212.0718,560.9844,2202.0718,564.9844,2206.0718,560.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="469.644" x2="2208.0718" y1="560.9844" y2="560.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.1084" x="476.644" y="555.9185">GET /koski/api/omadata-oauth2/authorize/?PARAMS</text><path d="M1117.9536,575.9844 L1182.3965,575.9844 L1182.3965,583.1172 L1172.3965,593.1172 L1117.9536,593.1172 L1117.9536,575.9844 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="253.2656" style="stroke:#000000;stroke-width:1.5;" width="1975.1436" x="1117.9536" y="575.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="1132.9536" y="589.0513">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147.3184" x="1197.3965" y="588.1948">[logout before redirect]</text><polygon fill="#181818" points="2630.7031,640.5156,2640.7031,644.5156,2630.7031,648.5156,2634.7031,644.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2214.0718" x2="2636.7031" y1="644.5156" y2="644.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.3848" x="2221.0718" y="609.1841">REDIRECT /koski/user/logout?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309.5371" x="2229.3364" y="624.3169">target=/koski/omadata-oauth2/cas-workaround</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.8374" x="2245.8657" y="639.4497">/post-response/BASE64URLENCODED_RESPONSE_PARAMS</text><polygon fill="#181818" points="1188.4766,699.9141,1178.4766,703.9141,1188.4766,707.9141,1184.4766,703.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1182.4766" x2="2641.7031" y1="703.9141" y2="703.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.48" x="1194.4766" y="668.5825">REDIRECT /cas-oppija/logout?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="316.3481" x="1202.7412" y="683.7153">service=/koski/omadata-oauth2/cas-workaround</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.8374" x="1219.2705" y="698.8481">/post-response/BASE64URLENCODED_RESPONSE_PARAMS</text><polygon fill="#181818" points="1896.6875,744.1797,1906.6875,748.1797,1896.6875,752.1797,1900.6875,748.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1177.4766" x2="1902.6875" y1="748.1797" y2="748.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328.377" x="1184.4766" y="727.981">REDIRECT /koski/omadata-oauth2/cas-workaround</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.8374" x="1209.2705" y="743.1138">/post-response/BASE64URLENCODED_RESPONSE_PARAMS</text><polygon fill="#181818" points="2906.71,773.3125,2916.71,777.3125,2906.71,781.3125,2910.71,777.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1908.6875" x2="2912.71" y1="777.3125" y2="777.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.7329" x="1915.6875" y="772.2466">REDIRECT /post-response/RESPONSE_PARAMS</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1117.9536" x2="3093.0972" y1="786.3125" y2="786.3125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="69.1206" x="1122.9536" y="796.5229">[no logout]</text><polygon fill="#181818" points="2906.71,817.25,2916.71,821.25,2906.71,825.25,2910.71,821.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2214.0718" x2="2912.71" y1="821.25" y2="821.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.7329" x="2221.0718" y="816.1841">REDIRECT /post-response/RESPONSE_PARAMS</text><polygon fill="#181818" points="480.644,853.3828,470.644,857.3828,480.644,861.3828,476.644,857.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="474.644" x2="2917.71" y1="857.3828" y2="857.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.916" x="486.644" y="852.3169">Auto-submit web form, jossa RESPONSE inputteina</text><polygon fill="#181818" points="141.8638,897.6484,131.8638,901.6484,141.8638,905.6484,137.8638,901.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="135.8638" x2="468.644" y1="901.6484" y2="901.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.8867" x="147.8638" y="881.4497">POST redirect_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.8379" x="147.8638" y="896.5825">body=CODE_RESPONSE</text><polygon fill="#181818" points="3167.4009,941.9141,3177.4009,945.9141,3167.4009,949.9141,3171.4009,945.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="130.8638" x2="3173.4009" y1="945.9141" y2="945.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="431.9072" x="137.8638" y="925.7153">mutual-TLS POST /koski/api/omadata-oauth2/authorization-server/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.2036" x="146.1284" y="940.8481">body=CODE_PARAMS</text><polygon fill="#181818" points="3593.3154,986.1797,3603.3154,990.1797,3593.3154,994.1797,3597.3154,990.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="3179.4009" x2="3599.3154" y1="990.1797" y2="990.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="401.9146" x="3186.4009" y="969.981">PROXY POST /koski/api/omadata-oauth2/authorization-server/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.4546" x="3194.6655" y="985.1138">Authorization=BasicAuth&amp;  body=CODE_PARAMS</text><polygon fill="#181818" points="141.8638,1015.3125,131.8638,1019.3125,141.8638,1023.3125,137.8638,1019.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="135.8638" x2="3604.3154" y1="1019.3125" y2="1019.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8975" x="147.8638" y="1014.2466">TOKEN_RESPONSE</text><polygon fill="#181818" points="3167.4009,1059.5781,3177.4009,1063.5781,3167.4009,1067.5781,3171.4009,1063.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="130.8638" x2="3173.4009" y1="1063.5781" y2="1063.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390.146" x="137.8638" y="1043.3794">mutual-TLS GET /koski/api/omadata-oauth2/resource-server</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.3027" x="146.1284" y="1058.5122">Authorization=Bearer TOKEN</text><polygon fill="#181818" points="3911.6162,1118.9766,3921.6162,1122.9766,3911.6162,1126.9766,3915.6162,1122.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="3179.4009" x2="3917.6162" y1="1122.9766" y2="1122.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368.1895" x="3186.4009" y="1087.645">PROXY POST /koski/api/omadata-oauth2/resource-server</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.8491" x="3194.6655" y="1102.7778">Authorization=BasicAuth</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.2974" x="3194.6655" y="1117.9106">X-Auth=Bearer TOKEN</text><polygon fill="#181818" points="141.8638,1148.1094,131.8638,1152.1094,141.8638,1156.1094,137.8638,1152.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="135.8638" x2="3922.6162" y1="1152.1094" y2="1152.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.7373" x="147.8638" y="1147.0435">DATA</text><!--SRC=[lLVDRjf04BxxAVRKNceiLL4FI3GYO3LHKemmKL8r5LhC9cmmkzR-aDBduHdw0hnOPsqCjZ76D4ql8UpEx7pppNopYw8g9CXhQpNzYEmfZg8bYh2Q8bkIsO8mAIcwvd96uRjOX4GHAkLwPLauK5mW3QkM5M6XQ40Zp1GAGahWuxk5qELo_NkoP6gzUbwlx34EPeHDOBqJcrW_yexcg15-Iftlo1X2XfWo-78BUoZUCrxlaJCpa1m-nnEiiCsnWU-OlrpGNwIPEzYRuovO9JaEYEHQ1CHxOKGC26JX9td5GQyz__eAFkkv95YcIaMowJYQARt0FA9CyOY7Czruf4w0fSsZY3vZ9-HFb3cmTcwOf05fDHgDF7LOZXBZ68otEygGrlPXnMpcA00V9_5fSURh821IceFp57ImB4jpjrn5gydXXOiP5bopoOvbfpd6admwqo8aBE0JCe6GU2uFamyvt6qFEifxcNKE9uvUtmAdLRyCXUbRKrokrRd2ueceLYvsh1u_8W5zfC5DR9S9kebvsAWeanounBBFfGAO4MUI7Ctde8i9j16l_JchnYRo-cxlcEQSVdlG_kfRLiOJpgaflYRwuWvhXwXvA8JFIAg91cxtQk1sXbl9rX7h0qCe5UoUvk9TX7RAgwEWn0UXJ68NRT_zT7Oxk75x7Q_hTaTffXdynQBS68Ysf0kTSBvdu6i-fv2N7ITJB4oEcQ9fFcncUcH8_FzaP70KEwjqiko3_MTGZWS_fVUFm7oD078TSRbSh5Sp6L_9LPsJsg453fNMIilwiYvLTDMaTixJh20OIWOf6fD7BWWIP4852LHLnfbaAqRjFidPkMrAlvdT9tLA16FK5fivkjyj0zVlUptVtRPD1S23mwembbAuXPdqDdZpS-3j57SghjFbT_Ycp6BEuzWBIq994EER9gtPb6y00rxHLirZYz86SsvBFPvJXLx8687CvX_GCvSIepGGeYpI2bxw3E_T6ia3eOdwdZ_SodEa1NrWOpvPjap1jlNAlrn2pHTcbaGuN91GxvueTc47rXbSGpyhdpxjpVp0YiAD0zdMUCiTzgaCbLQsPfHIy_phgaX54ytXAmxjuOsVK7jySCP9nB_AO8uP9UtuJnkb6AROZHKSGeK7tlstlmQJExfrWIKDpDAxCfXrCMNxR-XTkxrCezNajlfE4flARH8foODW0VTb7FmulULzKvFPurXIJitMlMt-A-2h0IPBQRSzR5j_0000]--></g></svg>